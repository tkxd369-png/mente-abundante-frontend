 <!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Truth Path ‚Äî D√≠a 1</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../styles-ivorygold.css" />
</head>

<body class="tp-body">
  <div class="tp-shell">

    <header class="tp-topbar">
      <div class="tp-brand">
        <div class="tp-eyebrow">TMK ¬∑ The Truth Path</div>
        <div class="tp-title">D√≠a 1</div>
      </div>
      <a class="tp-link" href="../../dashboard.html">Dashboard</a>
    </header>

    <main class="tp-card">
      <!-- Sticky minimal: d√≠a + estado -->
      <div class="tp-sticky">
        <div class="tp-kicker">D√≠a 1</div>
        <div class="tp-meta" id="statusLine">Pendiente</div>
      </div>

      <section class="tp-content">

        <div class="tp-note">
          <div class="tp-note-title">T√≠tulo del d√≠a</div>
          <p style="margin-top:8px;">
            <strong>La verdad no se aprende solo con informaci√≥n. Se vuelve vida con decisi√≥n.</strong>
          </p>
          <p class="tp-muted">
            Hoy no necesitas correr. Solo necesitas ver con claridad una cosa‚Ä¶ y sostenerla.
          </p>
        </div>

        <hr class="tp-divider">

        <div class="tp-q">
          <p class="tp-q-title"><strong>Idea clave</strong></p>
          <p class="tp-muted">
            El ruido externo no define tu direcci√≥n. Tu direcci√≥n nace cuando eliges una verdad y la practicas.
          </p>
        </div>

        <div class="tp-q">
          <p class="tp-q-title"><strong>Pregunta gu√≠a</strong></p>
          <p class="tp-muted">
            ¬øQu√© verdad ya sabes‚Ä¶ pero no has estado viviendo con consistencia?
          </p>
        </div>

        <hr class="tp-divider">

        <div class="tp-note">
          <div class="tp-note-title">Tu libreta (privado)</div>
          <p class="tp-muted" style="margin-top:8px;">
            Escribe en tu libreta. Aqu√≠ no se guarda nada.
          </p>

          <div class="tp-q" style="padding-top:0;">
            <label class="tp-opt">
              <input id="ckRead" type="checkbox">
              Le√≠ el contenido con calma
            </label>

            <label class="tp-opt">
              <input id="ckNotebook" type="checkbox">
              Escrib√≠ mi reflexi√≥n en mi libreta
            </label>

            <label class="tp-opt">
              <input id="ckDecision" type="checkbox">
              Eleg√≠ una decisi√≥n pr√°ctica para hoy
            </label>
          </div>

          <div id="msgBox" class="tp-msg" style="display:none;"></div>

          <div class="tp-actions">
            <button id="completeBtn" class="tp-btn tp-btn-primary" type="button">
              Marcar D√≠a 1 como completado
            </button>
            <a class="tp-link" href="../index.html">‚Üê Volver</a>
          </div>
        </div>

        <hr class="tp-divider">

        <!-- Navegaci√≥n estilo libro (abajo) -->
        <div class="tp-actions" style="justify-content:space-between;">
          <button class="tp-btn" type="button" disabled style="opacity:.6;">
            ‚Üê D√≠a anterior
          </button>

          <button id="nextBtn" class="tp-btn tp-btn-primary" type="button" disabled style="opacity:.6;">
            D√≠a siguiente ‚Üí
          </button>
        </div>

      </section>
    </main>
  </div>

  <script>
    (function () {
      const UNLOCK_KEY = "tmk_truth_path_unlocked";
      const CURRENT_DAY_KEY = "ttp_current_day";
      const DAY_DONE_KEY = "ttp_day_01_completed";

      // Guard
      const unlocked = (localStorage.getItem(UNLOCK_KEY) === "true");
      if (!unlocked) {
        window.location.replace("../quiz.html");
        return;
      }

      // Set current day
      localStorage.setItem(CURRENT_DAY_KEY, "1");

      const ckRead = document.getElementById("ckRead");
      const ckNotebook = document.getElementById("ckNotebook");
      const ckDecision = document.getElementById("ckDecision");
      const completeBtn = document.getElementById("completeBtn");
      const nextBtn = document.getElementById("nextBtn");
      const msgBox = document.getElementById("msgBox");
      const statusLine = document.getElementById("statusLine");

      function showMsg(text, ok) {
        msgBox.style.display = "block";
        msgBox.classList.toggle("ok", !!ok);
        msgBox.classList.toggle("bad", !ok);
        msgBox.textContent = text;
      }

      function setCompletedUI() {
        statusLine.textContent = "Completado ‚úÖ";
        nextBtn.disabled = false;
        nextBtn.style.opacity = "1";
        completeBtn.disabled = true;
        completeBtn.style.opacity = ".7";
        showMsg("‚úÖ D√≠a 1 completado. Puedes avanzar.", true);
      }

      // Load saved state
      const done = (localStorage.getItem(DAY_DONE_KEY) === "true");
      if (done) {
        ckRead.checked = true;
        ckNotebook.checked = true;
        ckDecision.checked = true;
        ckRead.disabled = true;
        ckNotebook.disabled = true;
        ckDecision.disabled = true;
        setCompletedUI();
      }

      completeBtn.addEventListener("click", function () {
        if (!ckRead.checked || !ckNotebook.checked || !ckDecision.checked) {
          showMsg("‚ö†Ô∏è Completa los 3 pasos para desbloquear el siguiente d√≠a.", false);
          return;
        }

        // Mark completed (no guarda contenido personal)
        localStorage.setItem(DAY_DONE_KEY, "true");

        // Lock checks after completion (optional)
        ckRead.disabled = true;
        ckNotebook.disabled = true;
        ckDecision.disabled = true;

        setCompletedUI();
      });

      nextBtn.addEventListener("click", function () {
        // Placeholder: cuando exista day-02.html cambia a:
        // window.location.href = "./day-02.html";
        showMsg("üõ†Ô∏è D√≠a 2 todav√≠a no est√° creado. (Cuando lo crees, enlazamos aqu√≠.)", true);
      });
    })();
  </script>
</body>
</html>
