 <!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Truth Path — Bienvenida</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600&family=Playfair+Display:wght@500;600;700&display=swap"
    rel="stylesheet">

  <!-- Ivory Gold -->
  <link rel="stylesheet" href="styles-ivorygold.css" />

  <!-- Fixes locales (sin tocar tu CSS file) -->
  <style>
    /* Sticky: libera overflow */
    .tp-card { overflow: visible !important; }

    /* Botones tipo libro: delgados, discretos, side-by-side */
    .tp-actions {
      display: flex !important;
      gap: 12px !important;
      flex-wrap: nowrap !important;
      align-items: center !important;
    }
    .tp-actions .tp-navbtn {
      flex: 1 1 0;
      min-width: 0;
      border-radius: 999px;
      padding: 9px 12px;
      font-size: 12px;
      letter-spacing: .18em;
      text-transform: uppercase;
      line-height: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      cursor: pointer;
      border: 1px solid rgba(0,0,0,.10);
      background: rgba(255,255,255,.55);
      color: rgba(0,0,0,.58);
      -webkit-tap-highlight-color: transparent;
      user-select: none;
    }
    .tp-actions .tp-navbtn:hover { background: rgba(255,255,255,.70); }
    .tp-actions .tp-navbtn:active { transform: translateY(1px); }
    .tp-actions .tp-navbtn.primary {
      border: 1px solid rgba(176,141,69,.45);
      background: linear-gradient(180deg, rgba(232,198,120,.92), rgba(214,170,84,.92));
      color: rgba(40,30,14,.82);
    }
    @media (max-width: 420px){
      .tp-actions { gap: 10px !important; }
      .tp-actions .tp-navbtn { padding: 8px 10px; font-size: 11px; }
    }

    /* Protección: no selección */
    .tp-no-select, .tp-no-select *{
      -webkit-user-select: none !important;
      -moz-user-select: none !important;
      user-select: none !important;
    }

    /* Watermark ultra sutil */
    .tp-watermark {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9999;
      opacity: 0.02;
      transform: rotate(-18deg);
      transform-origin: center;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 70px 26px;
      padding: 110px 24px;
      mix-blend-mode: multiply;
    }
    .tp-watermark span{
      font-family:"DM Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-size: 11px;
      letter-spacing:.22em;
      text-transform:uppercase;
      white-space:nowrap;
      color: rgba(0,0,0,.55);
    }
  </style>
 <!-- TMK: Gate (require login) -->
<script>
  (function () {
    // Si tu login guarda el usuario en localStorage como "ma_user"
    // esto valida que exista una sesión básica.
    try {
      var u = JSON.parse(localStorage.getItem("ma_user") || "{}");
      var hasSession =
        !!(u && (u.email || u.mail || u.id || u.refid || u.refId || u.nombre || u.name));

      if (!hasSession) {
        window.location.replace("/start.html");
      }
    } catch (e) {
      window.location.replace("/start.html");
    }
  })();
</script>
<!-- TMK: Gate + Auto-Continue (Truth Path) -->
<script>
  (function () {
    // 1) Require login
    try {
      var u = JSON.parse(localStorage.getItem("ma_user") || "{}");
      var hasSession = !!(u && (u.email || u.mail || u.id || u.refid || u.refId || u.nombre || u.name));
      if (!hasSession) return window.location.replace("/start.html");
    } catch (e) {
      return window.location.replace("/start.html");
    }

    // 2) Auto-continue to last seen day
    try {
      var d = parseInt(localStorage.getItem("tp_day_last_seen") || "0", 10);
      if (d && d >= 1) {
        var dd = String(d).padStart(2, "0");
        // Si ya tiene progreso, entra directo al día
        window.location.replace("/media/ttp/day" + dd + ".html");
      }
    } catch (e) {}
  })();
</script>

</head>

<body class="tp-body">
  <div class="tp-shell">

   <!-- Topbar -->
<header class="tp-topbar">
  <div class="tp-brand">
    <div class="tp-eyebrow">TMK · The Truth Path</div>
    <div class="tp-title">The Truth Path</div>
  </div>
  <a class="tp-link" href="/dashboard.html">Dashboard</a>
</header>

    <!-- Card -->
    <main class="tp-card">

      <!-- Sticky header -->
      <div class="tp-sticky">
        <div class="tp-kicker">Bienvenida</div>
        <div class="tp-meta">40 días en privado </div>
      </div>

      <section class="tp-content">

        <div class="tp-note">
          <div class="tp-note-title">Un sendero personal</div>
          <p class="tp-muted" style="margin:0;">
            “Mas tú, cuando ores, entra en tu aposento y cerrada la puerta…”
            <span class="tp-aside">(Silencio, claridad y conexión real.)</span>
          </p>
        </div>

        <hr class="tp-divider">

        <div class="tp-q">
          <p class="tp-q-title"><strong>Propósito</strong></p>
          <p class="tp-muted">
            The Truth Path no es un devocional religioso. No es coaching. No es misticismo comercial.
            Es un sendero de 40 días para silenciar el ruido, recordar tu origen y vivir desde la verdad —
            sin dogma, sin manipulación, sin performance.
          </p>
        </div>

        <div class="tp-q">
          <p class="tp-q-title"><strong>Privacidad (esto importa)</strong></p>
          <p class="tp-muted">
            Esto se hace en privado. Nadie verá tus respuestas. Nadie te validará.
            El propósito es que construyas el hábito de reflexionar a solas — y que no dependas del programa.
          </p>
          <p class="tp-muted" style="margin-bottom:0;">
            TMK seguirá proveyendo material y recursos como una fuente,
            pero <strong>tú te conviertes en fuente</strong> cuando eliges vivir en verdad.
          </p>
        </div>

        <hr class="tp-divider">

        <div class="tp-q">
          <p class="tp-q-title"><strong>Cómo se usa</strong></p>
          <p class="tp-instructions">Cada día tiene el mismo ritmo:</p>
          <div class="tp-note" style="margin-top:12px;">
            <div class="tp-note-title">Estructura diaria</div>
            <p class="tp-muted" style="margin:0;">
              Título · Frase ancla · Micro lectura · Reflexión · Ejercicio práctico · Cierre · Continuar
            </p>
          </div>
        </div>

        <div class="tp-q">
          <p class="tp-q-title"><strong>Tu libreta (tu mapa personal)</strong></p>
          <p class="tp-muted">
            Recomendación: usa una libreta dedicada. Escribe con honestidad.
            No “bonito”. No “correcto”. Real.
          </p>

          <div class="tp-note" style="margin-top:12px;">
            <div class="tp-note-title">Guía para escribir (base)</div>
            <ul class="tp-muted" style="margin:0; padding-left:18px; line-height:1.65;">
              <li><strong>¿Qué entendí hoy?</strong> (en una frase simple)</li>
              <li><strong>¿Qué cambio puedo hacer?</strong> (uno, pequeño, real)</li>
              <li><strong>Me comprometo a…</strong> (acción concreta en 24 horas)</li>
            </ul>
          </div>
        </div>

        <hr class="tp-divider">

        <div class="tp-q">
          <p class="tp-q-title"><strong>Acuerdo contigo</strong></p>

          <label class="tp-opt">
            <input type="checkbox" id="p1">
            Haré esto en privado, sin necesidad de validación externa.
          </label>
          <label class="tp-opt">
            <input type="checkbox" id="p2">
            Voy a ser honesto: no escribiré para verme bien, sino para ver la verdad.
          </label>
          <label class="tp-opt">
            <input type="checkbox" id="p3">
            Si fallo un día, no me castigo. Regreso con calma.
          </label>

          <div id="welcomeMsg" class="tp-msg" style="display:none; margin-top:12px;"></div>
        </div>

        <!-- Botones -->
        <div class="tp-actions">
          <a class="tp-navbtn" href="../dashboard.html">Inicio</a>
          <button id="startBtn" class="tp-navbtn primary" type="button">Comenzar →</button>
        </div>

      </section>
    </main>
  </div>

  <script>
    (function () {
      var p1 = document.getElementById("p1");
      var p2 = document.getElementById("p2");
      var p3 = document.getElementById("p3");
      var btn = document.getElementById("startBtn");
      var msg = document.getElementById("welcomeMsg");

      function showMsg(text, ok){
        msg.style.display = "block";
        msg.classList.toggle("ok", !!ok);
        msg.classList.toggle("bad", !ok);
        msg.textContent = text;
      }

      btn.addEventListener("click", function () {
        if (!(p1.checked && p2.checked && p3.checked)) {
          showMsg("Marca los 3 acuerdos para comenzar.", false);
          return;
        }

        try {
          localStorage.setItem("tp_started", "true");
          localStorage.setItem("tp_day_last_seen", "1");
        } catch (e) {}

        window.location.href = "./day01.html";
      });
    })();
  </script>

  <script>
    // Protección ligera + watermark sutil
    (function () {
      document.documentElement.classList.add("tp-no-select");
      document.addEventListener("contextmenu", function (e) { e.preventDefault(); });
      document.addEventListener("keydown", function (e) {
        var key = (e.key || "").toLowerCase();
        var ctrl = e.ctrlKey || e.metaKey;
        if (ctrl && (key === "c" || key === "x" || key === "a" || key === "p" || key === "s")) {
          e.preventDefault();
        }
      });
      document.addEventListener("copy", function (e) { e.preventDefault(); });

      function getUserStamp() {
        try {
          var u = JSON.parse(localStorage.getItem("ma_user") || "{}");
          var name = (u.name || u.nombre || u.fullname || "").toString().trim();
          var refid = (u.refid || u.refId || "").toString().trim();
          var who = name ? name : "TMK Member";
          var code = refid ? (" · " + refid) : "";
          return (who + code + " · TMK").toUpperCase();
        } catch (e) {
          return "TMK MEMBER · TMK";
        }
      }

      function addWatermark() {
        if (document.getElementById("tpWatermark")) return;
        var wm = document.createElement("div");
        wm.id = "tpWatermark";
        wm.setAttribute("aria-hidden", "true");
        wm.className = "tp-watermark";
        var stamp = getUserStamp();
        for (var i = 0; i < 8; i++) {
          var s = document.createElement("span");
          s.textContent = stamp;
          wm.appendChild(s);
        }
        document.body.appendChild(wm);
      }

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", addWatermark);
      } else {
        addWatermark();
      }
    })();
  </script>
</body>
</html>
