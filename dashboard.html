 <!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>The Master Key - Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!-- Fuentes -->
<link
href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=
DM+Sans:wght@400;500;600&family=Dancing+Script:wght@500;600&display=swap"
rel="stylesheet"
/>
<link rel="stylesheet" href="styles.css" />
</head>
<body class="ma-body ma-dashboard">
<div class="ma-page-wrapper ma-dashboard-wrapper">
<!-- HEADER -->
<header id="dashboardHeader" class="ma-dashboard-header">
<div class="ma-dashboard-brand-row">
<h1 class="ma-logo">THE MASTER KEY</h1>
</div>
<div class="ma-dashboard-user-row">
<div class="ma-dashboard-user-name">
<span id="dashName" class="ma-user-name">Nombre</span>
</div>
<div class="ma-dashboard-user-meta">
<!-- Badge referidos + estimado (JS escribe el texto) -->
<button id="dashRefBadge" class="ma-ref-badge" type="button">
<span id="dashReferralsText">0 REFS</span>
<span id="dashEstimateText">$0 USD EST</span>
</button>
<button class="ma-icon-button" id="dashMenuBtn" type="button">
</button>
</div>
</div>
</header>
<!-- CONTENIDO SCROLL -->
<main class="ma-dashboard-main">
<!-- Bloque 1: Frase AI -->
<section class="ma-card ma-block ma-block-phrase">
<h2 class="ma-section-label" data-i18n="phrase.title">
TU FRASE DE HOY
</h2>
<p id="aiPhraseText" class="ma-phrase-text">
“Tu decisión de hoy abre puertas que aún no imaginas.”
</p>
</section>
<!-- Bloque 2: Pinterest -->
<section class="ma-card">
<h2 class="ma-section-label" data-i18n="pinterest.title">
INSPIRACIÓN VISUAL
</h2>
<div id="pinterestEmbed" class="ma-embed-box">
<a
data-pin-do="embedBoard"
data-pin-board-width="420"
data-pin-scale-height="320"
data-pin-scale-width="120"
href="https://www.pinterest.com/agconst/mente-abundante/"
>
</a>
</div>
</section>
<!-- Bloque 3: TikTok -->
<section class="ma-card">
<h2 class="ma-section-label" data-i18n="tiktok.title">
VIDEOS TIKTOK / REELS
</h2>
<div class="ma-embed-box ma-embed-elfsight">
<div
class="elfsight-app-c7aa3b7a-2625-4e48-932a-c5a323679564"
data-elfsight-app-lazy
></div>
</div>
</section>
<!-- === TUS ACCESOS RÁPIDOS === -->
<section class="ma-card ma-quick-section">
<div class="ma-section-label" data-i18n="quick.title">
TUS ACCESOS RÁPIDOS
</div>
<div class="ma-quick-row">
<!-- E-BOOK -->
<button type="button" id="ebookBtn" class="ma-quick-card ma-quick-card-ebook">
<span class="ma-quick-icon"> </span>
<span class="ma-quick-label">E-BOOK</span>
<span class="ma-quick-cta" data-i18n="quick.ebookCta">
Leer ahora
</span>
</button>
<!-- HERRAMIENTAS (por ahora a la versión en español) -->
<a
href="herramientas.html"
class="ma-quick-card ma-quick-card-tools ma-quick-card-link"
>
<span class="ma-quick-icon ma-quick-icon-money">$</span>
<span class="ma-quick-label" data-i18n="quick.toolsTitle">
HERRAMIENTAS
</span>
<span class="ma-quick-cta" data-i18n="quick.toolsCta">
Guías para compartir
</span>
</a>
<!-- TU QR -->
<button type="button" class="ma-quick-card ma-quick-card-qr">
<canvas id="dashQrSmall"></canvas>
<span class="ma-quick-label" data-i18n="quick.qrTitle">
TU QR
</span>
<span class="ma-quick-cta" data-i18n="quick.qrCta">
Compartir
</span>
</button>
</div>
<p class="ma-quick-note" data-i18n="quick.note">
Comparte tu QR para que tus invitados lleguen directo a tu
página de inicio.
</p>
</section>
<!-- === VAULT (BANNERS) === -->
<section class="ma-card ma-vault-section">
<h2 class="ma-section-label" data-i18n="vault.title">TU VAULT</h2>
<div class="ma-vault-grid">
<!-- WEBBOOK -->
<a href="ebook/index.html" id="vaultWebbookBtn" class="ma-vault-banner">
<div class="ma-vault-top">
<div class="ma-vault-kicker" data-i18n="vault.webbookKicker">LECTURA</div>
<div class="ma-vault-title" data-i18n="vault.webbookTitle">WEBBOOK</div>
</div>
<div class="ma-vault-sub" data-i18n="vault.webbookSub">Continúa tu lectura</div>
<div class="ma-vault-cta" data-i18n="vault.open">ABRIR</div>
</a>
<!-- TRUTH PATH -->
<a href="#" id="vaultTtpBtn" class="ma-vault-banner">
<div class="ma-vault-top">
<div class="ma-vault-kicker" data-i18n="vault.pathKicker">SENDERO</div>
<div class="ma-vault-title" data-i18n="vault.pathTitle">THE TRUTH PATH</div>
</div>
<div class="ma-vault-sub" data-i18n="vault.pathSub">Tu jornada de 40 días</div>
<div class="ma-vault-cta" data-i18n="vault.open">ABRIR</div>
</a>
<!-- HERRAMIENTAS -->
<a href="herramientas.html" class="ma-vault-banner">
<div class="ma-vault-top">
<div class="ma-vault-kicker" data-i18n="vault.toolsKicker">GUÍAS</div>
<div class="ma-vault-title" data-i18n="vault.toolsTitle">HERRAMIENTAS</div>
</div>
<div class="ma-vault-sub" data-i18n="vault.toolsSub">Recursos para compartir</div>
<div class="ma-vault-cta" data-i18n="vault.open">ABRIR</div>
</a>
</div>
<p class="ma-vault-note" data-i18n="vault.note">
Todo aquí se mantiene protegido dentro del dashboard.
</p>
</section>
<!-- Bloque 5: Newsletter / anuncios -->
<section class="ma-card ma-block ma-block-news">
<h2 class="ma-section-label" data-i18n="news.title">
NEWSLETTER & ANUNCIOS
</h2>
<p class="ma-news-text" data-i18n="news.text">
Próximos lanzamientos, noticias de la comunidad y recordatorios
importantes aparecerán aquí.
</p>
</section>
</main>
<!-- FOOTER -->
<footer class="ma-dashboard-footer">
<div class="ma-footer-refid" id="footerRefId">
CÓDIGO: ———
</div>
<div class="ma-footer-btn-row">
<button
type="button"
class="ma-footer-btn"
id="footerNewBooksBtn"
data-i18n="footer.newBooks"
>
NUEVOS LIBROS
</button>
<button
type="button"
class="ma-footer-btn"
id="footerNewsBtn"
data-i18n="footer.news"
>
NOVEDADES
</button>
<button
type="button"
class="ma-footer-btn"
id="footerExtraBtn"
data-i18n="footer.extra"
>
ANUNCIOS
</button>
</div>
<!-- Botón para cambiar estilo del dashboard -->
<button
type="button"
class="ma-footer-style"
id="styleToggleBtn"
>
ESTILO: CLÁSICO
</button>
<button
type="button"
class="ma-footer-logout"
id="logoutBtn"
data-i18n="footer.logout"
>
CERRAR SESIÓN
</button>
</footer>
</div>
<!-- Toast -->
<div id="maToast" class="ma-toast">Copiado</div>
<!-- Popup QR grande (único) -->
<div class="ma-qr-modal" id="qrModal">
<div class="ma-qr-modal-backdrop" id="qrModalBackdrop"></div>
<div class="ma-qr-modal-content">
<button class="ma-qr-modal-close" id="qrModalClose" type="button">
&times;
</button>
<h2 class="ma-qr-modal-title" data-i18n="qr.title">
Tu código de invitación
</h2>
<p class="ma-qr-modal-ref" id="qrModalRefText">CÓDIGO: ———</p>
<canvas id="qrModalCanvas" class="ma-qr-modal-canvas"></canvas>
<p class="ma-qr-modal-help" data-i18n="qr.help">
Pide que escaneen este QR o comparte tu enlace personal.
</p>
</div>
</div>
<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
<script src="app.js"></script>
<script
async
defer
src="https://assets.pinterest.com/js/pinit.js"
></script>
<script src="https://elfsightcdn.com/platform.js" async></script>
<!-- Sistema de idioma ES / EN para el dashboard -->
<script>
(function () {
const LANG_KEY = "ma_lang";
const DASH_TRANSLATIONS = {
es: {
"phrase.title": "TU FRASE DE HOY",
"pinterest.title": "INSPIRACIÓN VISUAL",
"tiktok.title": "VIDEOS TIKTOK / REELS",
"quick.title": "TUS ACCESOS RÁPIDOS",
"quick.ebookCta": "Leer ahora",
"quick.toolsTitle": "HERRAMIENTAS",
"quick.toolsCta": "Guías para compartir",
"quick.qrTitle": "TU QR",
"quick.qrCta": "Compartir",
"quick.note":
"Comparte tu QR para que tus invitados lleguen directo a tu página de inicio.",
"news.title": "NEWSLETTER & ANUNCIOS",
"news.text":
"Próximos lanzamientos, noticias de la comunidad y recordatorios importantes
aparecerán aquí.",
"footer.newBooks": "NUEVOS LIBROS",
"footer.news": "NOVEDADES",
"footer.extra": "ANUNCIOS",
"footer.logout": "CERRAR SESIÓN",
"qr.title": "Tu código de invitación",
"qr.help":
"Pide que escaneen este QR o comparte tu enlace personal.",
},
en: {
"phrase.title": "YOUR PHRASE FOR TODAY",
"pinterest.title": "VISUAL INSPIRATION",
"tiktok.title": "TIKTOK / REELS VIDEOS",
"quick.title": "YOUR QUICK ACCESS",
"quick.ebookCta": "Read now",
"quick.toolsTitle": "TOOLS",
"quick.toolsCta": "Sharing guides",
"quick.qrTitle": "YOUR QR",
"quick.qrCta": "Share",
"quick.note":
"Share your QR so your guests go directly to your start page.",
"news.title": "NEWSLETTER & ANNOUNCEMENTS",
"news.text":
"Upcoming launches, community news and important reminders will appear here.",
"footer.newBooks": "NEW BOOKS",
"footer.news": "UPDATES",
"footer.extra": "ANNOUNCEMENTS",
"footer.logout": "LOG OUT",
"qr.title": "Your invitation code",
"qr.help":
"Ask them to scan this QR or share your personal link.",
// 1) Dentro de DASH_TRANSLATIONS.es agrega:
"vault.title": "TU VAULT",
"vault.webbookKicker": "LECTURA",
"vault.webbookTitle": "WEBBOOK",
"vault.webbookSub": "Continúa tu lectura",
"vault.pathKicker": "SENDERO",
"vault.pathTitle": "THE TRUTH PATH",
"vault.pathSub": "Tu jornada de 40 días",
"vault.toolsKicker": "GUÍAS",
"vault.toolsTitle": "HERRAMIENTAS",
"vault.toolsSub": "Recursos para compartir",
"vault.open": "ABRIR",
"vault.note": "Todo aquí se mantiene protegido dentro del dashboard.",
// 2) Dentro de DASH_TRANSLATIONS.en agrega:
"vault.title": "YOUR VAULT",
"vault.webbookKicker": "READ",
"vault.webbookTitle": "WEBBOOK",
"vault.webbookSub": "Continue reading",
"vault.pathKicker": "PATH",
"vault.pathTitle": "THE TRUTH PATH",
"vault.pathSub": "Your 40-day journey",
"vault.toolsKicker": "GUIDES",
"vault.toolsTitle": "TOOLS",
"vault.toolsSub": "Shareable resources",
"vault.open": "OPEN",
"vault.note": "Everything here stays protected inside your dashboard.",
},
};
function getCurrentLang() {
const stored = localStorage.getItem(LANG_KEY);
if (stored === "en" || stored === "es") return stored;
return "es"; // por defecto español
}
function setCurrentLang(lang) {
localStorage.setItem(LANG_KEY, lang);
}
function applyDashboardLanguage() {
const lang = getCurrentLang();
const dict = DASH_TRANSLATIONS[lang];
// Textos con data-i18n
document.querySelectorAll("[data-i18n]").forEach((el) => {
const key = el.getAttribute("data-i18n");
if (dict[key]) {
el.textContent = dict[key];
}
});
// Frase por defecto según idioma (por ahora sin AI)
const phraseEl = document.getElementById("aiPhraseText");
if (phraseEl) {
if (lang === "en") {
phraseEl.textContent =
"“Your decision today opens doors you can't yet imagine.”";
} else {
phraseEl.textContent =
"“Tu decisión de hoy abre puertas que aún no imaginas.”";
}
}
// Actualizar textos de referidos si está disponible el helper
if (window.maUpdateReferralTexts) {
window.maUpdateReferralTexts();
}
// Actualizar etiqueta de CÓDIGO / CODE en footer y modal
const codeLabel = lang === "en" ? "CODE: " : "CÓDIGO: ";
const footerRef = document.getElementById("footerRefId");
const modalRefText = document.getElementById("qrModalRefText");
let user = null;
try {
user = JSON.parse(localStorage.getItem("ma_user") || "{}");
} catch (e) {
user = {};
}
const refid = user.refid || user.refId || "———";
if (footerRef) {
footerRef.textContent = codeLabel + (refid || "———");
}
if (modalRefText) {
modalRefText.textContent = codeLabel + (refid || "———");
}
}
// Exponer función para otros scripts
window.maGetLang = getCurrentLang;
window.maApplyDashboardLanguage = applyDashboardLanguage;
document.addEventListener("DOMContentLoaded", function () {
if (!document.body.classList.contains("ma-dashboard")) return;
applyDashboardLanguage();
});
})();
</script>
<!-- Header compact al hacer scroll -->
<script>
(function () {
const header = document.getElementById("dashboardHeader");
if (!header) return;
function onScroll() {
const y = window.scrollY || document.documentElement.scrollTop;
if (y > 24) {
header.classList.add("ma-header-compact");
} else {
header.classList.remove("ma-header-compact");
}
}
window.addEventListener("scroll", onScroll, { passive: true });
onScroll();
})();
</script>
<!-- QR pequeño + modal QR grande -->
<script>
(function () {
// Tarjeta QR pequeña
const qrTile = document.querySelector(".ma-quick-card-qr");
const qrCanvasSmall = document.getElementById("dashQrSmall");
// Modal QR grande
const modal = document.getElementById("qrModal");
const modalBackdrop = document.getElementById("qrModalBackdrop");
const modalClose = document.getElementById("qrModalClose");
const modalCanvas = document.getElementById("qrModalCanvas");
const modalRefText = document.getElementById("qrModalRefText");
if (!qrTile || !qrCanvasSmall || !modal || !modalCanvas) {
return;
}
// Obtener usuario y refid desde localStorage
let user = null;
try {
user = JSON.parse(localStorage.getItem("ma_user") || "{}");
} catch (e) {
user = {};
}
const refid = user.refid || user.refId || "———";
// Construir link personal: https://TU-DOMINIO/index.html?ref=REFID
const baseUrl = window.location.origin + "/index.html";
const personalLink =
refid && refid !== "———"
? baseUrl + "?ref=" + encodeURIComponent(refid)
: baseUrl;
// Pequeño QR en la tarjeta
try {
new QRious({
element: qrCanvasSmall,
value: personalLink,
size: 68,
});
} catch (e) {
console.warn("No se pudo generar el QR pequeño:", e);
}
// QR grande en el modal
try {
new QRious({
element: modalCanvas,
value: personalLink,
size: 220,
});
} catch (e) {
console.warn("No se pudo generar el QR grande:", e);
}
// Etiqueta CÓDIGO / CODE según idioma
const lang = window.maGetLang ? window.maGetLang() : "es";
const codeLabel = lang === "en" ? "CODE: " : "CÓDIGO: ";
if (modalRefText) {
modalRefText.textContent = codeLabel + (refid || "———");
}
const footerRef = document.getElementById("footerRefId");
if (footerRef) {
footerRef.textContent = codeLabel + (refid || "———");
}
// Funciones para abrir/cerrar modal
function openModal() {
modal.classList.add("is-visible");
}
function closeModal() {
modal.classList.remove("is-visible");
}
// Conectar eventos
qrTile.addEventListener("click", openModal);
if (modalBackdrop) {
modalBackdrop.addEventListener("click", closeModal);
}
if (modalClose) {
modalClose.addEventListener("click", closeModal);
}
})();
</script>
<!-- Ajuste de textos del botón de referidos según idioma -->
<script>
(function () {
function updateReferralTexts() {
const lang = window.maGetLang ? window.maGetLang() : "es";
const refEl = document.getElementById("dashReferralsText");
const estEl = document.getElementById("dashEstimateText");
if (refEl) {
const text = refEl.textContent.trim();
const parts = text.split(" ");
const num = parts[0] || "0";
if (lang === "en") {
refEl.textContent = num + " REFERRALS";
} else {
refEl.textContent = num + " REFERIDOS";
}
}
if (estEl) {
const text = estEl.textContent.trim();
const tokens = text.split(" ");
const amount = tokens[0] || "$0";
const currency = tokens[1] || "USD";
const label = lang === "en" ? "EST" : "EST";
estEl.textContent = amount + " " + currency + " " + label;
}
}
document.addEventListener("DOMContentLoaded", function () {
updateReferralTexts();
setTimeout(updateReferralTexts, 800);
});
window.maUpdateReferralTexts = updateReferralTexts;
})();
</script>
<!-- Tema visual: clásico / Black Edition + glow dorado en el título -->
<script>
(function () {
const THEME_KEY = "ma_theme";
function applyTheme(theme, skipSave) {
const body = document.body;
const btn = document.getElementById("styleToggleBtn");
const logo = document.querySelector(".ma-logo");
if (theme === "dark") {
body.classList.add("ma-theme-dark");
if (btn) btn.textContent = "ESTILO: BLACK EDITION";
// Glow dorado flotante en el título
if (logo) {
logo.style.color = "#fdfaf0";
logo.style.textShadow =
"0 0 4px rgba(0,0,0,0.9)," + // sombra cerca
"0 10px 20px rgba(0,0,0,0.95)," + // caída hacia abajo (flotando)
"0 0 16px rgba(212,175,55,0.9)," + // glow dorado fuerte
"0 0 40px rgba(212,175,55,0.65)"; // halo dorado amplio
logo.style.transform = "translateY(1px)";
}
} else {
body.classList.remove("ma-theme-dark");
if (btn) btn.textContent = "ESTILO: CLÁSICO";
theme = "classic";
// Volver al estilo normal del logo (sin glow)
if (logo) {
logo.style.color = "";
logo.style.textShadow = "";
logo.style.transform = "";
}
}
if (!skipSave) {
try {
localStorage.setItem(THEME_KEY, theme);
} catch (e) {}
}
}
document.addEventListener("DOMContentLoaded", function () {
// Leer tema guardado
let saved = "classic";
try {
const stored = localStorage.getItem(THEME_KEY);
if (stored === "dark" || stored === "classic") {
saved = stored;
}
} catch (e) {}
// Aplicar tema inicial sin sobre-escribir
applyTheme(saved, true);
const styleBtn = document.getElementById("styleToggleBtn");
if (!styleBtn) return;
styleBtn.addEventListener("click", function () {
const isDark = document.body.classList.contains("ma-theme-dark");
applyTheme(isDark ? "classic" : "dark", false);
});
});
})();
</script>
<script>
(function () {
const btn = document.getElementById("ebookBtn");
if (!btn) return;
btn.addEventListener("click", function () {
// Idioma guardado (si no existe, ES)
const lang = (window.maGetLang && window.maGetLang()) || "es";
// Rutas base del WebBook
const baseIndex = (lang === "en")
? "/ebook.en/index.html"
: "/ebook/index.html";
// 1) Si hay progreso guardado, abre donde se quedó
try {
const last = localStorage.getItem("wb_last_chapter") || "";
if (last) {
window.location.href = last; // debe ser ruta absoluta tipo /ebook/cap07.html
return;
}
} catch (e) {}
// 2) Si no hay progreso, abre el index correcto por idioma
window.location.href = baseIndex;
});
})();
</script>
<!-- TMK: TTP Vault gating + rutas ES/EN (solo esto) -->
<script>
(function(){
  var btn = document.getElementById("vaultTtpBtn");
  if(!btn) return;
  // Detecta idioma usando tu sistema existente
  var lang = (window.maGetLang && window.maGetLang()) || localStorage.getItem("ma_lang") || localStorage.getItem("lang") || "es";
  lang = (lang === "en") ? "en" : "es";
  // Detecta unlock (pon aquí la key real si usas otra)
  var keys = ["ttp_unlocked","ma_ttp_unlocked","truth_path_unlocked","ttpUnlocked","ttp_access","ma_ttp_access"];
  var unlocked = false;
  for (var i=0; i<keys.length; i++){
  }
    var v = localStorage.getItem(keys[i]);
    if (v === "true" || v === "1" || v === "yes" || v === "enabled"){ unlocked = true; break; }
  if (unlocked){
    btn.style.display = "";
    btn.href = (lang === "en") ? "/media/ttpe/index.html" : "/media/ttps/index.html";
  } else {
    // NO aparece hasta que se desbloquee
    btn.style.display = "none";
    btn.href = "#";
  }
})();
</script>
</body>
</html>
